Based on V3, with loop over mask elements when possible.






╭─markb1@spiralcyh-10-90-80-51 ~/gbtl/build ‹GKC*› 
╰─$ ./bin/gkc_mxv_timing_demo_GKC ../src/demo/triangle_count_data_ca-HepTh.tsv                                   1 ↵
Read 51946 rows.
#Nodes = 9877
Running algorithm(s)... M.nvals = 1457
u.nvals = 942 
OPTIMIZED IMPLEMENTATION: A*u
w := A+.*u                : 231385 usec, w.nvals = 3289 reduce = 5104
w := w + A+.*u            : 180143 usec, w.nvals = 3289 reduce = 10208
w<m,merge> := A+.*u       : 87706 usec, w.nvals = 3289 reduce = 9460
w<m,replace> := A+.*u     : 74539 usec, w.nvals = 485 reduce = 748
w<m,merge> := w + A+.*u   : 72907 usec, w.nvals = 485 reduce = 1496
w<m,replace> := w + A+.*u : 72891 usec, w.nvals = 485 reduce = 2244
OPTIMIZED IMPLEMENTATION: A'*u
w := A'+.*u                : 44994 usec, w1.nvals = 3289 reduce = 5104
w := w + A'+.*u            : 44898 usec, w1.nvals = 3289 reduce = 10208
w<m,merge> := A'+.*u       : 3974 usec, w1.nvals = 3289 reduce = 9460
w<m,replace> := A'+.*u      : 1153 usec, w1.nvals = 485 reduce = 748
w<m,merge> := w + A'+.*u   : 1577 usec, w1.nvals = 485 reduce = 1496
w<m,replace> := w + A'+.*u : 16642 usec, w1.nvals = 485 reduce = 2244
Warning! sorting vector for eq check!
Results PASSED